<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="../../jsml/jsml.js"></script>
    <script type="text/javascript" src="../config.js"></script>
    <script type="text/javascript" src="../../jscls/jscls.js"></script>
</head>
<body style="background-color:#bbb;">
    
</style>
    <script type="text/javascript">
    var elem = document.createElement("div");
    ex.object.dump(elem.style);
    var _class = "cm.core.DisplayInterface";
    document.title = _class;
    cls.require(
        "cm.display.abs.fill.Gradient",
        "cm.display.abs.filter.Shadow",
        _class,
    function main()
    {
        var e;
        var es = [];

        //border test
        e = createCmDisplay("visible");
        e.cmDisplay.setVisible(false);
        es.push(e);

        e = createCmDisplay("plain");
        es.push(e);

        e = createCmDisplay("alpha");
        e.cmDisplay.alphaAbs(.5);
        //e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        es.push(e);

        e = createCmDisplay("border dash");
        e.cmDisplay.border.weightAbs(5).setStyle(cm.display.abs.Border.DASH).editColor().argbAbs(0xFF00FF00);
        es.push(e);

        e = createCmDisplay("border dot");
        e.cmDisplay.border.weightAbs(5).setStyle(cm.display.abs.Border.DOT).editColor().argbAbs(0xFF0000FF);
        es.push(e);

        e = createCmDisplay("border double");
        e.cmDisplay.border.weightAbs(20).setStyle(cm.display.abs.Border.DOUBLE).editColor().argbAbs(0xFFFFFF00);
        e.cmDisplay.container.editShape().applyCircle();
        es.push(e);

        //container test
        e = createCmDisplay("container shape round");
        e.cmDisplay.container.editShape().roundAbs(20);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFFFF0000);
        es.push(e);

        e = createCmDisplay("container shape round top/left");
        e.cmDisplay.container.editShape().topLeftCornerAbs(20, 20);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFFFF0000);
        es.push(e);

        e = createCmDisplay("container shape round top/right");
        e.cmDisplay.container.editShape().topRightCornerAbs(20, 20);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFFFF0000);
        es.push(e);

        e = createCmDisplay("container shape round bottom/right");
        e.cmDisplay.container.editShape().bottomRightCornerAbs(20, 20);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFFFF0000);
        es.push(e);

        e = createCmDisplay("container shape round bottom/left");
        e.cmDisplay.container.editShape().bottomLeftCornerAbs(20, 20);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFFFF0000);
        es.push(e);

        e = createCmDisplay("container shape circle");
        e.cmDisplay.container.editShape().applyCircle();
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFFFF0000);
        es.push(e);

        //position test
        e = createCmDisplay("position x and container widht");
        e.cmDisplay.position.xRel(20);
        e.cmDisplay.container.widthRel(-20);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFF000000);
        es.push(e);

        e = createCmDisplay("position y and container height");
        e.cmDisplay.position.yRel(20);
        e.cmDisplay.container.heightRel(-20);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFF000000);
        es.push(e);

        //background test
        e = createCmDisplay("background color");
        e.cmDisplay.background.editColor().argbAbs(0x3000FFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFF000000);
        es.push(e);

        var src = "../resource/logo.png";
        e = createCmDisplay("background image align horizontal left");
        e.cmDisplay.container.editShape().applyCircle();
        e.cmDisplay.background.editImage()
            .setRepeat(cm.display.abs.fill.ImageData.REPEAT.NONE)
            .setSource(src)
            .editOrigin().
                applyLeft();
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFF000000);
        es.push(e);

        e = createCmDisplay("background image align horizontal center");
        e.cmDisplay.background.editImage().setSource(src).editOrigin().applyCenterH();
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFF000000);
        es.push(e);

        e = createCmDisplay("background image align horizontal right");
        e.cmDisplay.background.editImage().setSource(src).editOrigin().applyRight();
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFF000000);
        es.push(e);

        e = createCmDisplay("background image align vertical top");
        e.cmDisplay.container.editShape().applyCircle();
        e.cmDisplay.background.editImage().setSource(src).editOrigin().applyTop();
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFF000000);
        es.push(e);

        e = createCmDisplay("background image align vertical center");
        e.cmDisplay.background.editImage().setSource(src).editOrigin().applyCenterV();
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFF000000);
        es.push(e);

        e = createCmDisplay("background image align vertical bottom");
        e.cmDisplay.background.editImage().setSource(src).editOrigin().applyBottom();
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFF000000);

        e = createCmDisplay("background gradient liner");
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFFFF0000);
        e.cmDisplay.container.editShape().applyCircle();
        var g = e.cmDisplay.background.editGradient();
        g.editBeginColor().argbAbs(0xFF0000FF);
        //g.linearDegreeAbs(45)
        g.pushColor(0xFF00FFFF, 60)
         .pushColor(0xFF00FF00, 40)
         .pushColor(0xFFFFFF00, 20)
         .pushColor(0xFFFF0000, 40)
         .pushColor(0xFFFFFFFF, 60)
         .setType(cm.display.abs.fill.Gradient.TYPE.LINER);
        es.push(e);

        e = createCmDisplay("background gradient radial");
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFFFF0000);
        e.cmDisplay.container.editShape().topRightCornerAbs(20, 20);
        var g = e.cmDisplay.background.editGradient();
        g.editRadialOrigin().verticalAbs(.4).horizontalAbs(.1);
        g.setRadialSize(
            cm.display.abs.fill.Gradient.RADIAL_SIZE.FARTHEST_SIDE);
        g.setRadialShape(cm.display.abs.fill.Gradient.RADIAL_SHAPE.ELLIPS);
        g.editBeginColor().argbAbs(0xFF0000FF);
        g.pushColor(0xFF00FFFF, 20)
         .pushColor(0xFF00FF00, 40)
         .pushColor(0xFFFFFF00, 60)
         .pushColor(0xFFFF0000, 40)
         .pushColor(0xFFFFFFFF, 20)
         .setType(cm.display.abs.fill.Gradient.TYPE.RADIAL);
        es.push(e);

        //transform test
        e = createCmDisplay("transform originX and scaleX");
        e.cmDisplay.border.weightAbs(20).setStyle(cm.display.abs.Border.DOUBLE).editColor().argbAbs(0xFFFF0000);
        e.cmDisplay.transform.editOrigin().applyRight();
        e.cmDisplay.transform.scaleXAbs(1.1);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        es.push(e);

        e = createCmDisplay("transform originY and scaleY");
        e.cmDisplay.border.weightAbs(20).setStyle(cm.display.abs.Border.DOUBLE).editColor().argbAbs(0xFFFF0000);
        e.cmDisplay.transform.editOrigin().applyCenterV().applyCenterH();
        e.cmDisplay.transform.scaleYAbs(1.1);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        es.push(e);

        e = createCmDisplay("transform originX/Y and rotationZ");
        //e.cmDisplay.container.widthAbs(100).heightAbs(100);
        e.cmDisplay.transform.editOrigin().verticalAbs(.5).horizontalAbs(.5);
        e.cmDisplay.border.weightAbs(20).setStyle(cm.display.abs.Border.DOUBLE).editColor().argbAbs(0xFFFF0000);
        e.cmDisplay.transform.rotationZAbs(20);
        e.cmDisplay.transform.scaleYAbs(1).scaleXAbs(1);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        es.push(e);

        //filter(shadow) test
        var shadowFilter;
        shadowFilter = new cm.display.abs.filter.Shadow();
        shadowFilter.editColor().argbAbs(0xFF000000);
        shadowFilter.offsetSizeAbs(5);
        e = createCmDisplay("filter shadow offsetSize");
        e.cmDisplay.border.weightAbs(20).setStyle(cm.display.abs.Border.DOUBLE).editColor().argbAbs(0xFFFF0000);
        e.cmDisplay.position.xRel(30).yRel(30);
        e.cmDisplay.container.widthRel(-60).heightRel(-60);
        e.cmDisplay.filters.add(shadowFilter);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        es.push(e);

        shadowFilter = new cm.display.abs.filter.Shadow();
        shadowFilter.editColor().argbAbs(0xFF000000);
        shadowFilter.radiusAbs(20);
        e = createCmDisplay("filter shadow radius");
        e.cmDisplay.container.editShape().applyCircle();
        e.cmDisplay.border.weightAbs(20).setStyle(cm.display.abs.Border.DOUBLE).editColor().argbAbs(0xFFFF0000);
        e.cmDisplay.position.xRel(30).yRel(30);
        e.cmDisplay.container.widthRel(-60).heightRel(-60);
        e.cmDisplay.filters.add(shadowFilter);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        es.push(e);

        shadowFilter = new cm.display.abs.filter.Shadow();
        shadowFilter.editColor().argbAbs(0xFF000000);
        shadowFilter.offsetPositionXAbs(60);
        shadowFilter.offsetPositionYAbs(0);
        e = createCmDisplay("filter shadow offsetPosition");
        e.cmDisplay.position.xRel(30).yRel(30);
        e.cmDisplay.container.widthRel(-60).heightRel(-60);
        e.cmDisplay.filters.add(shadowFilter);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        es.push(e);

        shadowFilter = new cm.display.abs.filter.Shadow();
        shadowFilter.editColor().argbAbs(0x80000000);
        shadowFilter.enabledInset();
        e = createCmDisplay("filter shadow inset");
        e.cmDisplay.container.editShape().topRightCornerAbs(20, 20).bottomLeftCornerAbs(20, 20);
        e.cmDisplay.position.xRel(30).yRel(30);
        e.cmDisplay.container.widthRel(-60).heightRel(-60);
        e.cmDisplay.filters.add(shadowFilter);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        e.cmDisplay.border.weightAbs(1).setStyle(cm.display.abs.Border.SOLID).editColor().argbAbs(0xFFFF0000);
        es.push(e);

        e = createCmDisplay("filter shadow multiple");
        e.cmDisplay.container.editShape().applyCircle();
        e.cmDisplay.position.xRel(30).yRel(30);
        e.cmDisplay.container.widthRel(-60).heightRel(-60);
        e.cmDisplay.background.editColor().argbAbs(0xFFFFFFFF);
        es.push(e);

        shadowFilter = new cm.display.abs.filter.Shadow();
        shadowFilter.editColor().argbAbs(0xFFFF0000);
        shadowFilter.offsetSizeAbs(10);
        shadowFilter.offsetPositionXAbs(-10);
        shadowFilter.offsetPositionYAbs(-10);
        e.cmDisplay.filters.add(shadowFilter);

        shadowFilter = new cm.display.abs.filter.Shadow();
        shadowFilter.editColor().argbAbs(0xFF00FF00);
        shadowFilter.radiusAbs(10);
        shadowFilter.offsetPositionXAbs(0);
        shadowFilter.offsetPositionYAbs(0);
        e.cmDisplay.filters.add(shadowFilter);

        shadowFilter = new cm.display.abs.filter.Shadow();
        shadowFilter.editColor().argbAbs(0xFF0000FF);
        shadowFilter.offsetSizeAbs(10);
        shadowFilter.offsetPositionXAbs(10);
        shadowFilter.offsetPositionYAbs(10);
        e.cmDisplay.filters.add(shadowFilter);

        for (var i = 0, len = es.length; i < len; i++)
        {
            //out.d(i, "----------------------------")
            es[i].cmDisplay.drawable.draw();
            //es[i].cmDisplay.dumpProp();
        };
    });

    var num = 0;
    function createCmDisplay(innerHTML)
    {
        var y = parseInt(num / 5)
        var x = num++ % 5;
        var e = cm.dom.d.createElement("div");
        var p = cm.dom.d.createElement("p");

        cm.core.DisplayInterface.attach(e);
        e.cmDisplay.useCss(true);
        e.cmDisplay.container.widthAbs(130).heightAbs(130);
        e.cmDisplay.position.xAbs(x * 150 + 20).yAbs(y * 150 + 20);
        cm.dom.d.body.appendChild(e);

        p.innerHTML = innerHTML;
        e.appendChild(p);

        return e;
    };

    // if (location.hostname == "127.0.0.1") { document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=2"></' + 'script>') }

    </script>
</body>
</html>