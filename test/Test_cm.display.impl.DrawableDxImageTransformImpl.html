<!DOCTYPE html>
<html>
<head>
    <title>Test_cm.display.DrawableDxImageTransformImpl.html</title>
    <link href="../html5reset-1.6.1.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="../coremind.js"></script>
</head>
<body>
    <center>
    <div id="testX" style="background-color: #FF0000; width: 0px; height: 0px;";>X</div>
    <div id="testY" style="background-color: #00FF00; width: 0px; height: 0px;";>Y</div>
    <div id="testZ"></div>
    <div id="testRotateZ">
        <div id="a" style="background-color: #0000FF; width: 142px; height: 86px;">ROTATE Z</div>
    </div>
    <div id="testWidth" style="background-color: #FFFF00; width: 0px; height: 0px;";>WIDTH</div>
    <div id="testHieght" style="background-color: #00FFFF; width: 0px; height: 0px;";>HEIGHT</div>
    <div id="testScaleX" style="background-color: #FF0000; width: 0px; height: 0px;";>SCALE X</div>
    <div id="testScaleY" style="background-color: #00FF00; width: 0px; height: 0px;";>SCALE Y</div>
    <div id="testScaleZ" style="background-color: #0000FF; width: 0px; height: 0px;";>SCALE Z</div>
    <div id="testRotateX" style="background-color: #FF0000; width: 0px; height: 0px;";>ROTATE X</div>
    <div id="testRotateY" style="background-color: #00FF00; width: 0px; height: 0px;";>ROTATE Y</div>
    </center>
    
    <script type="text/javascript">
    cm.Class.using("cm.display.Layout");
    cm.Class.using("cm.display.DrawableDxImageTransformImpl");
    cm.Class.using("cm.util.Updater");
    function main()
    {
        var ids = ["testX", "testY", "testZ", "testWidth", "testHieght", "testScaleX", "testScaleY", "testScaleZ", "testRotateX", "testRotateY", "testRotateZ"];
        var methods = ["xFix", "yFix", "zFix", "widthFix", "heightFix", "scaleXFix", "scaleYFix", "scaleZFix", "rotationXFix", "rotationYFix", "rotationZFix"];
        var values = [100, 50, 100, 200, 200, 1.5, 1.5, 1.5, 45, 45, 350];
        
        var obj = document.getElementById("a");
            obj.cmDisplay = {
                layout:new cm.display.Layout(),
                drawable:new cm.display.DrawableDxImageTransformImpl(obj)
            };
            obj.cmDisplay.layout
                .widthFix(142)
                .heightFix(86)
                .xFix(-71)
                .yFix(-43);
        
        for(var i = 0, len = ids.length; i < len; i ++)
        {
            var obj = document.getElementById(ids[i]);
            obj.cmDisplay = {
                layout:new cm.display.Layout(),
                drawable:new cm.display.DrawableDxImageTransformImpl(obj)
            };
            if (i == 10)
            {
                obj.cmDisplay.layout[methods[i]](values[i])
                    .widthFix(-71)
                    .heightFix(-43);
            }
            else
                obj.cmDisplay.layout[methods[i]](values[i])
                    .widthFix(142)
                    .heightFix(86);
                    
            obj.cmDisplay.drawable.draw();
        };
        
        var _u = new cm.util.Updater();
        _u.update = function() {
            var obj = document.getElementById("a");
            obj.cmDisplay.layout.rotationZRel(1).scaleXRel(0.002).scaleYRel(0.002);
            obj.cmDisplay.drawable.draw();
        };
        _u.start(1000, 0);
    }
    </script>
</body>
</html>